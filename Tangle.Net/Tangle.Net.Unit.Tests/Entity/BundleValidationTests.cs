namespace Tangle.Net.Unit.Tests.Entity
{
  using System.Collections.Generic;
  using System.Linq;

  using Microsoft.VisualStudio.TestTools.UnitTesting;

  using Tangle.Net.Entity;

  /// <summary>
  /// The bundle validation tests.
  /// </summary>
  [TestClass]
  public class BundleValidationTests
  {
    #region Properties

    /// <summary>
    /// Gets or sets the bundle.
    /// </summary>
    private Bundle bundle { get; set; }

    #endregion

    #region Public Methods and Operators

    /// <summary>
    /// The setup.
    /// </summary>
    [TestInitialize]
    public void Setup()
    {
      this.bundle =
        Bundle.FromTransactionTrytes(
          new List<TransactionTrytes>
            {
              new TransactionTrytes(
                "999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999TESTVALUE9DONTUSEINPRODUCTION99999OGFZEFWIVOZCAYNFOQGRZ9AIRBMWRRFIPCVLEG9ULC9CLIDHE9999999999999999999999999PYOTA9UNIT9TESTS99999999999NYBKIVD99G99999999G99999999EIYHEUACZZAVPQFGIPKDUBFPJVOFTWHADBEXIXINYPAKPUMGZKEKVZQVQREIZHYPEBNZUAJQXHAGDYRG9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"), 
              new TransactionTrytes(
                "DEFDQQ9AQY9HBNMZZTEM9TSUWUPNOFRJKHZHCYKMRQEYVFINUVEHKSZK9JZPRBHAWHAVH9GNFYDWEEADDC9WE9G9SKVFXJKKGWQWWRFPZLFBXLEKRGGHHQIKLEOJDEITGQGRAQFYLFESHTAEMLYSRAIIPXNRKTRAS9MSNCONAB9DEPAETSRFLDSKTACASWBINAEJJFGUK9ZPYSBRGPLHFYRJAKHHPZVWYSQWEVYQBNOYRVFVBTDLHUNYDQVGDPJEVOUBFMQYDCCAWDW9ZFROSVNUZYXEYFEKCKFGZLQWHPMZNHVMYZMCJGHOXJJZPFTAEAPAA9MAREMPHTJVDPVXCGXHCWBZYXPMBMAFIMCQQEUPHZ9AYQXAYF9ZKJSHBKOBDGLCXWAQICTVFDCZHJDCDPWODLCGBVNXJSBHALJJCHGKDQPRBWYGFOGVF9FKDFA9ZQIYCHDTJOHREJYV9FEZJIWFGXYTUVEWUBO9T9NGKFLFPMGNYCDZSERANRHLUDOVIIZ9TVWSLMNLR9KTF9KPNKCWTMQHEQKBFISQVLBCOAYHJUZAOBXNVAXRPKGYCLAFBYNFXFXGMPATWUOGWVHFQMRDLAVXKOOVUFDAUAALPGIATFSYP9TZSTFNR9WKUBIGHVNVCYBDQEWLGQUSNWYDGUISWKEPCHQ9EZQCECJTPIFXIRCVOKSKMKMNXTGC9JCVHXFULEENDRPBATTOPRLMEVBWDTQVJRBGRSIV9RRMHEPKEQEGZOZWPTTECHZIEHJXBLFLTO9VBCHKUWBASCSVMSZPBXWVUMPP9RBJNUZWZCVTYTDKKZJMBKMIPRCVIVMV9NZJBILSLLEHJJUWUVFFGDMAFPRYJCLPRTJLTAGGSHDZUERGGPVCSFBTLGZEENIVFXLXPCCN9VGWUAYATCQYVDQXLOEDLCTKKAPIBGIUBPAZBZCKEAFXRDUGHNEDXOFZHX9RUTXSWAIZPXWWJXTIXKODHHBNAFU99GQPQPPQSZCCOOVSLFOUMQCZ9QEAEHGPZNPRAGTPIFPOPECUHQMOHQSHHNEYXWSVNVFFNDUXVBESCBXNWEQLIYLF9YMYLRXH9XUBVUXLZFDYZASV9OREKCOB9OLYKMUGADKAGGQ9Z9LSIBRBIMYHGZDWFJMISAUSBXSFKUZLCFHDHTNJ9GHEEUYZMRXSJUOXNNTFXNHCRMMXCNNBDFIZXSEAE99DNOWEJZKPQJTLRJGXFMHDFIGFRBVT9WXOTHOPGLOQVGYWDSGCXJEHBZPRCFCKNQSTZVGBKNBJRNXDIQM9M9N9PBGHHTR9PPJVLVQYZVKIMPHLFPIVJIOHFFMOMSLMWDBQIPCMGVH99LAMPQUDKDKLNGZIB9CUWBZKYTCUWTIFAWBCSPJTIUOHRJMIATMERZYCHB9XZ9KGHWMTVDSBY9GRTZKKNZ9AZPSVFDCQPTOATCVZWRLTILOYIBMGOFXYHEOEMAETPOVCRADPVPIGQKDZQGUZFDRAQQFRCVCZFEJYXCKISPQ9WMM9YJCHGHYWYMZUPRDVYOWORNKQNUYZWYVSTIHCOHCYCFALVFKRLLZYMNEPSHLEJCUKURIOJYKXPHLFMMEIHFXMOISMWGDGSUIU9CLWDAAYRRYYGGLQVQPMAYNGJTTTNOPCXGYUEXFVXMNCZJFIVIBGCKRPXXTMLZEYGXCRQEGNFIDSSTKVNWDBZKZDFNUMTILLN9INWTQRDVSXJRSKGLHRIAGJRQZUHHEESFIJBLCDAAXVCN9UAOU9VJJCBWXELLMPEVOBQW9CJUABIKMBRSCIBVAMOXLFQX99KH9YLQ9BXLSIU9XOQFOAGCFIDJYAINNDAZ9TKROQJCZMLFGVGIWOSEARVCMFMBBHDBJHFCBGLODBELYYHLUEKJFCCYCUTILROVKWDPLWYEDDA9WEJQWOOAOKZNRXHYAQQNUDZFXXTOGSKGGE9OIGGPHKSNXPFVSKEGCLWCWWCASZEHEZBJTYNBAZQPYLANUKBSJJSJHPIXKUQERHBUZWGOXUDKWCQUAHNATYGUJEKDZGGGCNEALOU9D9RX9EDMWDLXFV99RFAGZENALKO9MIUXXY9HBGGCTHFWRPLWSIA9GWCLIXGOYFWYCAHVQDTCNBPUGAWPKEHLLTKAYCOAKIFKYROACDDKEIHVNBNCQDKAYYMUUONZOZYY9VPHWXXUSNZGRBGYGJNMBE9LTFSIHKFLAIZFJDTQUUDMBLKCNQZWXAVYWI9YIFDQBNSOPIZGKODKTBMKMMVPBA999999999999999999999999999PYOTA9UNIT9TESTS99999999999NYBKIVD99F99999999G99999999EIYHEUACZZAVPQFGIPKDUBFPJVOFTWHADBEXIXINYPAKPUMGZKEKVZQVQREIZHYPEBNZUAJQXHAGDYRG9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"), 
              new TransactionTrytes(
                "MXPN9ZGOHJHGLVDNBFJEGLQZAHNDWGJWBPQFFXAIIGHVJMTCBELOJPUHEJPRTJNOYJGGSVMDQFJD9NFDZNIDDO9MJRP99SWYJLHMWHUBREHZZMCHJPO9UUTKELRFFFBHTEFBUYRPVLY9TUFCJGVPGRCWSEAKAAKIOZEQJXNLBRCADVNWTUEDSJXKKTJWPXOMIVHYKRSYUSFVTDPMWKIGZFCK9QFRRAAUVKBFCUJLTARFWSXRYUXEWFG9RSHOZSXJRKOVTWPJWPNOKHDFYXSNHCWPKTSDVAIJPITDMSOEBGYRGVTNQ9EOPGMGFUBADQMNRPVD9PRXSBNJBMWJAATCJRLTBWRW9CIBVUFNJOAP9FRZPDWGTKRQXEKOO9ONRQSFRDUGDZAYZCEXUEMK9EXLW9WJSNJ9XFUQCRAIAUIBHZJQDGFLRIOXUOAHSWEPVXSIXACSREGCBMRFPLBMTXMMGCUV9VJCYJVKODIYLXFVKDNOZUNAHNMECVVQN9HFXBAXL9KEEJ9LAPCXWJMRFURUPEUXNLIFAHMEFHHNKMPMSHRZCWSGXZLDOGAKNXQEGFUXCLALLFGFPKHRVLBESXQFTHYEOHNGCQUJ9CXIVBVKEPDWJUXYBFXBJXMSJGDA9WZI9UJHBVGCLHWAFEKQTCRSLNESVJGKJWU9CXQATRIV9BKIWWFSCKHATHTQMLL9CPZENIXLWQTNXTWUYGYTRXOHWDONX9OSY9VRSHWAVATCHHRWCXQSRAU99C9GEAYZYU9DXYJRGQCUDXNTCRCTJLCLFVHUXLCXJOUKKOZCDIKCHXA9QDDWIHMPBVN9MSBAHHAECMHFJXVZMGOILGRAAT9CGXFYMDTULBWGPJIVOGTRDSSIGWRJLVETCSLLBJXWMUHUMPDPADYPRNMLQS9KDFDDPJPEQVYGDTMPYAWMFQCXRCMX9PGDYYASKZEGZWD99VANFLUVAAOSTVAWOPLUYZACKRKLCGOOICJTLCWUY9EMJKMJMXWESAY9CADHRJWOFHEOHHNOLSBYPVWSDHXSGYLBZRNNOF9HDEDCDTYUYPI9AMLIRKKVWBQJOQWHBARVWGEXXKINHTZESAPMMGOQDHUZBZEQNZLZRMEWMRFYKEFAFOCWG9KXFWRLJWIDFU9ULGCCWWZXRNBV9FHYFRSOQEHKUZJJQILP9YBMDXITFGNAODNXISIHHBJIVLBWK9PISPZOCGRRUYHVVURGUGMHOPFBZIPWQLKDWKJJEYAPXKALUFRBECMAYVMGZUIKZUUYVMLUEWCFDPSYHIVUQRWDRW9KFTRIGBKWMNEXJHWIU9XOSXUEPAGFRROQODWVGAVXCNLPZPEQGGSEKPRFVZYQFFUCUVO9VCTWSPUA9TVCUVCHCOJIPAMQEQITIVLTXJGDBWAGZHESX9RIAFKUOWPOVFF9JMGFLIWXSHMIDGLK9U9CWSMA9OHFXWQIDNHSGOHDC9YYOOTYRORF99YVJFSJPVWFXBWPDDS9UEUEECPSUFGJCSEPLX9IDUQDNHXVDCVFGOTRJBXHLIMHLRUOOW9WMCXSOTDQSPGSCCUDYIGNOXOKKBGBIRIOJWDLODKNABLRENIMQYPWDGILWGMHPZHXFKFDGOV9TZFCWXGNGRXMIXDTXZQGPSOVEJQPQUSJHEBBVNGEODWJEUDZMKLXYUWAWRPIRUMUHIV9IAAVTBVZXRTVHGMUAVFWCKGPVQ9SWZDTRATQPXYBXWVABEVKJOMILQ9JSYNRTHPMKZSRGEY9CBUBSGQPBUD9QJQURXQCOSEESMSWWKXE9WIVEWFANVUPJCQ9LINZUTJUCLMQXUOUOIAHLUQ9GNPVCOMUBYYQZAZNWDBPE9KA9UYZGFMPMWJRGMUXXYCJDEDUJJ9HFHMOZMDDMDPHIEUHAZNVXRVYRJAGBDTOWZUUDQGY9NKVJYJFAEAQTCIDKSZXSPWLPKDHRVFBTXH9OPUJHWYWPYHGGZYZYHYQUSYFNUUGRVZTJKRVBRVMGXZGUK9JLF9TTXZIYC9FAFOBQCVKNDLMEWUYCDJODOKSYUYGJTHOJPWHCOHWKOPICGMDDJKE9KNPFRARIKDC9JFAEVXDZXDHKQAEPCUZPCDAWUFNJO9LFHT9URMXORUP9MKIXJAEXKZYABWDZCVHOWJRVQPGHXARSOKUFDTZJHUT9VOSA9DU9ODXXUSNZGRBGYGJNMBE9LTFSIHKFLAIZFJDTQUUDMBLKCNQZWXAVYWI9YIFDQBNSOPIZGKODKTBMKMMVPBA999999999999999999999999999PYOTA9UNIT9TESTS99999999999NYBKIVD99E99999999G99999999EIYHEUACZZAVPQFGIPKDUBFPJVOFTWHADBEXIXINYPAKPUMGZKEKVZQVQREIZHYPEBNZUAJQXHAGDYRG9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"), 
              new TransactionTrytes(
                "BIRYQZTRMOJCLWP9PBRNLK9ZOYZDVVEKNUZKDGYIDGMCJJRTHVJSTIPVKR9NSMBPPYLANCDGT9FBESEKYXS9ECTQHYM9CCCFFURJSTYBNZZVTRYBHSNPPQZDWYLWCVWAELJOL9E9QCJDB9ZTIHHYDT9TCBTMAVBTFAVDWPLLDRDYR99QGMNPYCAZQRTE9DUIPAJJNGWQLTLFXFARNKSZKVHSFCAAGLIHRTGTLFDCUGZHWDQMEXAYEQDHJOQAYZMSYQORTAOFQFSWLPDYQVMGUEXQUIJDEFNZIUJXDEVPQSPZN9WPQJ9NRUXJEEKSCTNWAZLYZVDJBYJNDMDW9XKTYHNCACZRBXL9TKKBNTGPI9JCFRVCTS9XDEMDPBCIRGZRHPLKWOJFHSLBVOHTYZIAWXOYDAZQPWTZBZAOKLAVXRREYVYN9CQZMLCYBDC9OIJJVDTWFMQFCOVBRSZM9FDVSQWDTIRDYQ9BUPHSYCQXBTQJ9LJBZR9HITVLGFMBPBSIPETVXI9DOXUPHJOFGDDERHOPIXACBWJJMAJQ9WL9CLMBFJDYDMHKA9BMNHKHHAMLHJDOOOAXAOIAIPUJKOOSDTRDNS9HFPRWHYHVCSWYLZARWHNOKUJCRSYUFOQPQCRQL9SQCGRCPYNMVQIANZATRDI9OPSZVOOYOY9ATSXHSAYZHEETFR9ZVEQYLAKHEZVDQIUCJQNCJM9TCSLZOOZXAPXSZVONZAXMVDUOLNTZMUSFXJPOGIINYNRWXWLWDSXSPMJMCLFEFOPHJOABJQSWK9J9FXVKLDEXVPHRLJMVWBKLLMMNNESPJFQFQIESAPXFSRTDNOVFCXHQUCJQHMPWSYFNPFS9UWVLTAYDLCAYXW9LANEFFLGEEAEGQWXTXMJRBDRHFCTNSFXYBZOTYTFOOZDDZYFPFLSWJKYETBQHQWHFMAJAKOOBJFYCZFAHDDULFLJHVIDUXOPWHKHLBCZRLH9IRRMTFOVOCENLEWXURVIFHQAEPMLSBCWGXZRDVUTMALSVGAFV9JSLPJWBQWFTJKMABUZKABQRWWMJCPNBKODNMLKWHAXIILBVNJHWFVJJIEFGSFRWGNTJOGFYQJX9KHZUUXRIOMDISBMSNADEWMOSAZWKLRWWRXZIMQSKBUPXHOWCVQYMUBIXOYCQZSYNKMHKPWDJLPIWLOOIICCFJGPAVVVGALNUHIFLHSIF9JYXDQGQQCZGXBXYPUWHTFCMSQPBOCWGRWIRSPQTGEVAPTIJ9GJXOJ99ROFM9CCASDVJBZWAKVYYIYBIAYODUG9KURZTCKRXBBDDUNYMTBMEKXQV9SREAGINGSHKMMMFOSWQSISMVRPRIGRZGQKE9EGIKTHVGYHTIZNYDBHYLJFIDIRGKWBSSNOWHLLALTMJIIQYJMVIUILDHDZAXMTMBYCCFBIWYVMGVRITMCDNXMYVMNCFWJ9KLYHCUQCJLKSHCCXNXLUFSEUFGXUYZTD9YFAC9ATT9EQSQXDESCEUZCT9PNPZHQROJAXBJPG9FAFKCZTKHK9W9SWGKVSGKWGLVTXOCKP9UAWIWLCWQPYTKTXFZQWWEWPEQEBTPOIWSFUNDKLVRSXQ9GPHYOPU9YOC9LIAGKNSNOPZLKQEBNZFSZDSSWURARUTZWPPBHMNUXFATQFWFLOIRZAFZNAPNBMVNFBXZZSOZIWZHFHPRVF9YAKYGFHC9CLUEZIIRWKFQGXTAPLRCMIWWQCIFUXMLVTOFDGLTONFCZMK9HMGCZTIEJTOPENSXISJKFHSZDZLVNGVOGHKUVYKAYMCBMIRAP9GXIVTHWTFFMBOBAELAQIKIVZZTOSWXCBPJAPCDTPSGCDYYB9EZQUSU9DUJUZX9AQWWFRJUYJYWDTNLBLPRVXVEPO9MMWKHIGBLFHXVDNPCOSFXBAIOYGQLZH9YSYBAEXBHBLKIQABEOZIJVLXKZABPPLABAYVLYWIEDJFIMSJBZICOWRXQWIYYPKLLPROGXNGTNTPPQREKS9I9WERWBALENFPWQBIKWUVGNHMXKQ9TYERABQJWUAACHGGQEMWOBBGOIZCAJYRRBZZQUYIRYCXOORUBXWOEIYEGVUKJOJRPWRERTDGCUPZLZINJIWDAW9SVF9KCUJRRFE9OYKRAWS9HH9XHCPQZAISRWZJVVRVKGYMKVFZVKNQSDYHSQ9XXUSNZGRBGYGJNMBE9LTFSIHKFLAIZFJDTQUUDMBLKCNQZWXAVYWI9YIFDQBNSOPIZGKODKTBMKMMVPBAOV9999999999999999999999999PYOTA9UNIT9TESTS99999999999NYBKIVD99D99999999G99999999EIYHEUACZZAVPQFGIPKDUBFPJVOFTWHADBEXIXINYPAKPUMGZKEKVZQVQREIZHYPEBNZUAJQXHAGDYRG9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"), 
              new TransactionTrytes(
                "YHESE9Q9LPYU9MAEMPDUDUWOTUVFGDPBBLLZTTTFCWULPFHMRZWGAUAU9YOQDFRLLBG9SJOYDLVIQPKTBAMIZWOQKVUGZTHZMFMWWBTWXLIOSOGOVLKWJMZMIBFVNOTNTRQIMCTJSYLFNARMYKFMGXMMVASRHHNP9ZZDHHUEHBPBQJJPMQBM9PIZIWQAJLAPURCQFKXIVGYZRAPATUAY9CGRJBDYHOIGPWQBPREDHSFIFILBDOBRQV9OUSARYIVHZIHJPJKUQCJDI9XBNIBHENHLBIPRUXPUXOLHEUNZVUS9CDKEHKGQXPDDQL99LHNXK9ZCVDPWJERFHTLTUVZWXZWTAZCLUAOZQHNXRFLKDSFRIJ9DKJJSLBXYKJLTW9GUIAERJWTZXZXOGJXKIDQKCQUOLHUSANAFQIKOXGMXAXJJPDTIHKMXQQ9PBNTXUEHUPLAHRVXBZJJIEUDSZTSDS9RSUPZ9ILZRFJRTG9PUIKNGWFKFUQTMUTPW9YKEID9YUUOZWIJIJYUR9VBSHPYDUMUIYWMAFOQBEKTYMYDJC9MLQTBAURFVRTYZRQOWVIXBFITAXRKNIPCYKOBMPYIABHKOOOCCDZFXLTHOMNDCYZQXHWLMSWNVANKG9RRGLGZWSUVGDIOWV9KUOUHB9YWFIHAWRHSTDABPA9PQOJD9KJPKHUOPKSFCXJMNDSKJHTNPAQMI9UMUVBQRIFBSHRLDMCLE99QASIM9CDV9GJBPH9PHDMUMIFXKKQBLLSMCBRMCJPR9NYJLEAZBYKPRZDTRBBZREVHIBFYRER9YGGCLZWLLZSUWQKPRUULNBLJTOVJAPSZGISRRQMDAMUBEQWCKGYQDMEVTYKMAGCSMTMTSEFDOBRUPQF9TVGYQDTDSAMEULRKZOUJQXQVXPMQYGNZNKIDYRQYCCHPJFQQ9PIRRTAJCSCRXKKRDQXEEIAVWDHAVOWSVMPFZXHQ9CUKLAMFXYVDCXZBWCRWHTZZWKNCD9GCRGQCNLKHWEAHRSYVV99J99OQGEFXMEZDDHJWXJGDIRJYIMLGPWTBSBVKTTJ9HA9OLTDGPZSURRIZGONXZAOYHQRDMZGMKVSGENUGNRFXHRKRNYIQYRZH9BRBJBDPCHCEZCAGXGPYVDXMBHJ9RZQJGGW99SONTRWTFVCBPDQ9YSWCRPHXAOZQXNOUYQXLKWDZMMXPWRRZRERTXZXJXQHCSWPEFTIELOBFPLAWMEVHBFPQRPDYTSUCWHSZCYJBBOQITFOVGSFZYCDTYMWRARODBCISJOCYVKJKJPOPDQSILNYAPWEI9DCNXSSXHGQWGNPSVOHUGZACFDFTIRGYJGCVPYTNPN9CTZOCLRAOZDFQZIAIYJOXROUBHATCFJYSZGEHGVLKBISDGZEARWQILPMJMFG9PCOMSEHECWYMDLKQASOMIGRMIIOYGESRHYQUXIIZOCXKJHWZ9QRSWYVHBVFVOCHGWCKMGKLAKTUSCDYZSWOJUXNSULWFJVROKGKKBZQOHRY9KXPKAGKBRHLAQNMANBYDYHWZRNCDSP9OGEDENQHAFPIB9OLYVMKKLZRUDTMNTRNOVNHTHZUVHPKJVUISFMZZ9HFNZMLCDGEUJYOBCLLOOIQOMQAEETCRHAGVMMVEDWLDNAUPACSHKDTCFBJZ9TCFB9ISIZAJQZGQMGMJWESFNDHZAFOZKRHQUXRNRDQPBEJTZJTRHIFQOCQSC9IZHHGTGPEBYFTLESFBHGRGJIXFZKJGYYPNB9UTMDUIUMUNDJNCOMRCOBXT9NPJUERWDAFBGVWSQBVMSRIZETWLQBHXQIOZ9KFWJLWZRMEUUFIYTQQWRPEROGRXBTNFPHMLXYZZEYDDX9JNZPDJTBTKLGZIXKYGXHDTRGKNUZFEYKWYTBBOGHCVKDMBHZWRBSCLLNBJWPBV9XBKO9ZRMCRFCEXRDMZWBQYAMHG9TGPDNAGPXE9YPUQUNDKXKNCWEQATNRN9WSZMVOXLWPYUDHUXJJQ9MGWDOH9OUIDMLJLLYYXUNMPPACYVHUWJUKSDJPZBTZALVQROBJAKOFUNQFYXFCEYDIDOAZKASIKY9TWQYMKIQHZQXZGHRBR9YOYXUAQDZZFPFKFLGPYTMLMSGWAVDGLJTTIPZAMFLGXIXHNRC9ASLHSYQGDRPSFWVXOCFFHTUEMDMDPUSXAZTWCQBKCWBZ9LDZSJJPDPCAVRBEBHKZTPWCBGZTVXP9DEUESJEADACA9TBNKWFNSQLLPUJQFVYLBAAYWND999999999999999999999999999PYOTA9UNIT9TESTS99999999999NYBKIVD99C99999999G99999999EIYHEUACZZAVPQFGIPKDUBFPJVOFTWHADBEXIXINYPAKPUMGZKEKVZQVQREIZHYPEBNZUAJQXHAGDYRG9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"), 
              new TransactionTrytes(
                "DEZJVMNPVBAEBZWMGIXVSBOFZWNJOSUTEALWDOIDOGXQLXKHKLAQTABJDD9HJWPTCZTAGOCMEIPFFZNCCNRNDZXVEMNVFPMONFWRKMEKLYSBXFOKOHCAHXF9MGID9BNXWENVFFZRPFXXL9RNKRXNECZBKTWIRRIDKWMLNMIPJTLSFNWILGBVZTQHFHVSEMPSWUMGAP9AKILPBWFYKWEYOFYOINADMVCYPWAOPUXA9TEVPKHT9PBYZXOF9LKUBBIRSOFVKDIZYHGOEUCDDQ9IWRYDEANKBVEDCABLVSKFDOXGSEZSTMVAXMVCPYQR9CILVQIWPOWVUPWJOTRFGJGBIPNY9OUBYYWBWSXVKYDC9HCTGATTCCUSAGQYHWQMRRWBFHSCPCSHEIAZHWUMIOEZCR9FIWXJSHSZG9TAOGRWPRTCWNSABXXOO9YQPUCCHK9CWAYOFKGXTKGWVENRKIMTNFSLGGPNWAOLIFOLYWXUQTFBFDTFVDLTXZFPLWCYIBHPPPIHFNLZJXYUBRIUQKVIYAKQZNOVOZVICEUWJFJTUVCAYHUWLQAQ9ACPUQBSJUII9HWFVIMVUNGFFTPRHILXOLWOXGOXAVOROQPVTEUDLMZKAOWYP9YWKJBDKCZHLHVSGJKVCIFWBIRXAOVVICUOJSJFLUSGAGUBDNTWCQNXWMCJEKZTWFIHGTRZTWAJUQ9UENNNBAEBEVYJFJRKMEPROHEYXMFBABSTBHYT9AICXZUEYSOHKUHEV9YMELFEYYXMYKLSJWBD9MGCSNBKIZEU9BZVPOHLTYLKTHMLRXKGIAZJKNLAURMJUYZMZPZZ9BCDCU9RRBVATIYGLVQMWDEFLWRNLH9J9GJHMZSFYJUEUKZXKLRCLMMAAIMJNACQDIJ9SKJSQYIKDPMRSZYMIPHUMZARFTCADD9UWH9TPPZVRLUWHOFVKNXVHRYSCCW9ZDHUIQRZLHDBRFMWWYUWTLEPULCZZPNYEBEGSPRRSEJPKTTLJDFH9QJTAJYSU9HYGJRA9IYJSAQMEBPWZYNPPPJPDEJGUCKB99IQZXLZV999CQBWYDUEXQB9IXM9OTMALUTBQUYZRVRVSURESZWKKPGHYSHAGVDCYQIIBXINSSAYSMUIYDZDDA9UKSLLWJAPYIZQNPLSWARDHRQHEPBOEUKORSJYJTXNDJGXDOGMGO9QMBHAJVTDIOZNLLXWSIJBWM9ECTUCJGKNWRQCVE9RYYWB9EBEKHDCKHAPEUYCTI9DLZHOHBPKILQDMBVKHAQPOGXCWBOZNNMPWXQJHAGYP9WUSJHDDCQSVBCJYL9GZYSCNVWIUMKPVQSEFBARSKLXQTSDSZJUEWRDFTYVIWGPNFBQW9VKSWKDLRJWWXMWOPENESZE9MDJYTHYAXPZADFOWWYMPE9Z9XZXDUGEOIKCGKYY9LLOPYEPYY9JVYALYCCCEGEQDBBINWYGOQBOHXQUGZNJBOQJYCEKLODXFFOON9IGAJ9NJYUWSCMUNDEGHTXHPUVSIKDNUFGTFMNLRNNQSRVZNFWBUUPTUXMTLRKTNTJIMOBSLXWMZLIGIRGCYWLHCQUDJWIKUOMPSNQYFP9UTBFRSSACVQHBWMBNCWIJJOB9SMMKVCDFLRUA9CPSZYQPWNASZXKNWDXITTKUTMFUTVMXKMLKCGTDBYQMKP9JCADDQEJCAPWLOXWKUKSQW9BDQDKLVN9YIOSGCGSMVXB9LU99AZ9HJCWONAQPRUZIAMVUURVCPJWROPNFSSFCOAU9CYAHAJRIQLBUKDEBMFPXPWGLRFPOMANCGIPXXPYYVOSEWRVYCYBORLPVGDXWEDFSFW9QANJ9PFPYOHNJMYNAUKTLYCEUJMWYPIUTCWKNKYWSOVLXRSENJLNTIGDROCFMEGAHXBLZPHTMVRDYDHPHYFUN9JZRTPBJFKFWSZDDIIJDJBXWZ9LNUOQAZQYXJNHBHHHDLEVVVOJEVH9MJPK9PROZLDIXSCPZLAWOWODBKLCUNQZCGY9MZKRIRVIYCIEIZPS9ZGZL9ZBEWSFEJUJPDL9QYNHBXCMPYRKQAVUSFSZTKURHWEAXCBORHUWOVKFRPSEIIPYUQYVGOAVZECOHFDCXSAXUKJUDMKOWPEEEWJMEMYORJSDHCYRCCKYZHQETCJ9KESALQXASIUDX9VJOUHGTIDFVTVOR9HDTWCQBKCWBZ9LDZSJJPDPCAVRBEBHKZTPWCBGZTVXP9DEUESJEADACA9TBNKWFNSQLLPUJQFVYLBAAYWNDPZ9999999999999999999999999PYOTA9UNIT9TESTS99999999999NYBKIVD99B99999999G99999999EIYHEUACZZAVPQFGIPKDUBFPJVOFTWHADBEXIXINYPAKPUMGZKEKVZQVQREIZHYPEBNZUAJQXHAGDYRG9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"), 
              new TransactionTrytes(
                "DEAUCXCSCVCTCHDTCSCSAEACCWCTCEAHDTCBDGDXCCDBDEAKDPCGDEAIDBDQCTCPCFDPCQC9DTCSAJ9GAHCCDIDLAFDTCEAFDTCPC9D9DMDEABDCDHDEAVCCDXCBDVCEAHDCDEA9DXCZCTCEAXCHDQAGAEACDQCGDTCFDJDTCSCEANBTCTCDDEACCWCCDIDVCWCHDSAJ9GACCTC9D9DEAIDGDFAGAJ9GAKB9D9DEAFDXCVCWCHDQAGAEAGDPCXCSCEANBTCTCDDEACCWCCDIDVCWCHDSAEAGACCWCTCEAKBBDGDKDTCFDEAHDCDEAHDWCTCEAQBFDTCPCHDEA9CIDTCGDHDXCCDBDSASASAGAJ9GAHCTCGDIBGAJ9GAYBUCEAVBXCUCTCQAEAHDWCTCEADCBDXCJDTCFDGDTCEAPCBDSCEAOBJDTCFDMDHDWCXCBDVCSASASAGAEAGDPCXCSCEANBTCTCDDEACCWCCDIDVCWCHDSAJ9GAHCTCGDIBIBGAJ9GASBGDSASASAGAJ9GAHCTCGDIBFAGAJ9GAPBCDFDHDMDRAHDKDCDQAGAEAGDPCXCSCEANBTCTCDDEACCWCCDIDVCWCHDQAEAKDXCHDWCEAXCBDUCXCBDXCHDTCEAADPCYCTCGDHDMDEAPCBDSCEARCPC9DADSAJ9EAEAEAEAEAEAEAEA99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999TESTVALUE9DONTUSEINPRODUCTION99999ZDDJMOGAXHRGS9XCNSKQQNVB9BSYFCVANLJM9CLRLJSQKFO999999999999999999999999999PYOTA9UNIT9TESTS99999999999NYBKIVD99A99999999G99999999EIYHEUACZZAVPQFGIPKDUBFPJVOFTWHADBEXIXINYPAKPUMGZKEKVZQVQREIZHYPEBNZUAJQXHAGDYRG9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"), 
              new TransactionTrytes(
                "J9GAQBCDCDSCEAADCDFDBDXCBDVCQAGAEAGDPCXCSCEANBTCTCDDEACCWCCDIDVCWCHDEAPCHDEA9DPCGDHDSAJ9GAOBFDSASASAEAQBCDCDSCEAADCDFDBDXCBDVCQAEAYBEANBTCTCDDEACCWCCDIDVCWCHDQAGAEAGDPCXCSCEAVBCDCDBDEDIDPCKD9DEABDTCFDJDCDIDGD9DMDSAJ9EAEAGANBCDEAMDCDIDEAWCPCJDTCSASASAEATCFDQAEAHDWCPCHDEAXCGDSASASAGAJ9GASASASAEAPCBDEAPCBDGDKDTCFDEAUCCDFDEAMDCDIDIBGAEAXCBDHDTCFDFDIDDDHDTCSCEANBTCTCDDEACCWCCDIDVCWCHDEAADPCYCTCGDHDXCRCPC9D9DMDSAEAGAHCTCGDSAEASBEAWCPCJDTCSAGAJ9CCWCTCEAHDKDCDEAADTCBDEAGDWCXCJDTCFDTCSCEAKDXCHDWCEATCLDDDTCRCHDPCBDRCMDSAEACCWCTCXCFDEAKDPCXCHDXCBDVCEAWCPCSCEABDCDHDEAQCTCTCBDEAXCBDEAJDPCXCBDSAJ9GACCWCTCFDTCEAFDTCPC9D9DMDEAXCGDEACDBDTCIBGAEAQCFDTCPCHDWCTCSCEAZBWCCDIDRCWCVCSAJ9GACCWCTCFDTCEAFDTCPC9D9DMDEAXCGDEACDBDTCQAGAEARCCDBDUCXCFDADTCSCEANBTCTCDDEACCWCCDIDVCWCHDSAJ9GACCCDEAOBJDTCFDMDHDWCXCBDVCIBEACCCDEAHDWCTCEAVCFDTCPCHDEA9CIDTCGDHDXCCDBDEACDUCEAVBXCUCTCQAEAHDWCTCEADCBDXCJDTCFDGDTCEAPCBDSCEAOBJDTCFDMDHDWCXCBDVCIBGAJ9GAHCTCGDSAGAJ9LBCDHDWCEACDUCEAHDWCTCEAADTCBDEAWCPCSCEAQCTCTCBDEAHDFDPCXCBDTCSCEAUCCDFDEAHDWCXCGDEAADCDADTCBDHDEBEAHDWCTCXCFDEA9DXCJDTCGDEAWCPCSCEAQCTCTCBDEAPCJ9EAEADDFDTCDDPCFDPCHDXCCDBDEAUCCDFDEAXCHDEBEAHDWCTCMDEAWCPCSCEAQCTCTCBDEAGDTC9DTCRCHDTCSCEAPCHDEAQCXCFDHDWCEAPCGDEAHDWCCDGDTCEAKDWCCDEAKDCDID9DSCJ9EAEAKDXCHDBDTCGDGDEAHDWCTCEAPCBDGDKDTCFDEBEAQCIDHDEATCJDTCBDEAGDCDEAHDWCTCMDEAUCCDIDBDSCEAHDWCTCADGDTC9DJDTCGDEAVCPCGDDDXCBDVCEAPCBDSCEAGDEDIDXCFDADXCBDVCJ9EAEA9DXCZCTCEATCLDRCXCHDTCSCEARCWCXC9DSCFDTCBDSAJ9GAKBBDSCEAMDCDIDLAFDTCEAFDTCPCSCMDEAHDCDEAVCXCJDTCEAXCHDEAHDCDEAIDGDIBGAEAIDFDVCTCSCEAVBCDCDBDEDIDPCKD9DSAJ9GASBEAPCADSAGAJ9GAXBCDKDIBGAJ9GAXBCDKDQAGAEAGDPCXCSCEANBTCTCDDEACCWCCDIDVCWCHDSAJ9CCWCTCMDEAQCCDHDWCEA9DXCRCZCTCSCEAHDWCTCXCFDEASCFDMDEA9DXCDDGDSAJ9GACCWCCDIDVCWCEASBEASCCDBDLAHDEAHDWCXCBDZCQAGAEAPCSCSCTCSCEANBTCTCDDEACCWCCDIDVCWCHDQAEAGAHDWCPCHDEAMDCDIDLAFDTCEAVCCDXCBDVCEAHDCDEA9DXCZCTCEAXCHDSAGAJ9GANBCDTCGDBDLAHDEAADPCHDHDTCFDQAGAEAGDPCXCSCEAZBWCCDIDRCWCVCSAEAGAFCTCEAADIDGDHDEAZCBDCDKDEAXCHDFAEAXBCDKDFAGAJ9GAXBCDKDIBGAEATCBDEDIDXCFDTCSCEANBTCTCDDEACCWCCDIDVCWCHDSAJ9GAHCTCGDFAEAXBCDKDFAGAJ9GAKB9D9DEAFDXCVCWCHDQAGAEAGDPCXCSCEAHDWCTCEARCCDADDDIDHDTCFDEAPCBDSCEAGDTCHDHD9DTCSCEAXCBDHDCDEAGDXC9DTCBDRCTCEAPCVCPCXCBDSAJ9EAEACCWCTCEAHDKDCDEAADTCBTESTVALUE9DONTUSEINPRODUCTION99999ZDDJMOGAXHRGS9XCNSKQQNVB9BSYFCVANLJM9CLRLJSQKFOOB9999999999999999999999999PYOTA9UNIT9TESTS99999999999NYBKIVD99999999999G99999999EIYHEUACZZAVPQFGIPKDUBFPJVOFTWHADBEXIXINYPAKPUMGZKEKVZQVQREIZHYPEBNZUAJQXHAGDYRG9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999"), 
            });
    }

    /// <summary>
    /// The test bundle balance is negative should add error and return false.
    /// </summary>
    [TestMethod]
    public void TestBundleBalanceIsNegativeShouldAddErrorAndReturnFalse()
    {
      this.bundle.Transactions[3].Value -= 1;
      var validationSummary = this.bundle.Validate();
      Assert.IsFalse(validationSummary.IsValid);
      Assert.AreEqual("Bundle balance is not even.", validationSummary.Errors[0]);
    }

    /// <summary>
    /// The test bundle balance is positive should add error and return false.
    /// </summary>
    [TestMethod]
    public void TestBundleBalanceIsPositiveShouldAddErrorAndReturnFalse()
    {
      this.bundle.Transactions[0].Value += 1;
      var validationSummary = this.bundle.Validate();
      Assert.IsFalse(validationSummary.IsValid);
      Assert.AreEqual("Bundle balance is not even.", validationSummary.Errors[0]);
    }

    /// <summary>
    /// The test bundle hashes are not consistent should add error and return false.
    /// </summary>
    [TestMethod]
    public void TestBundleHashesAreNotConsistentShouldAddErrorAndReturnFalse()
    {
      this.bundle.Transactions[3].BundleHash = new Hash("NFDPEEZCWVYLKZGSLCQNOFUSENIXRHWWTZFBXMPSQHEDFWZULBZFEOMNLRNIDQKDNNIELAOXOVMYEI9PG");
      var validationSummary = this.bundle.Validate();
      Assert.IsFalse(validationSummary.IsValid);
      Assert.AreEqual(
        "Transaction 3 has an invalid bundle hash (check that all transactions have the same bundle hash).", 
        validationSummary.Errors[0]);
    }

    /// <summary>
    /// The test bundle is valid.
    /// </summary>
    [TestMethod]
    public void TestBundleIsValid()
    {
      var validationSummary = this.bundle.Validate();
      Assert.IsTrue(validationSummary.IsValid);
      Assert.AreEqual(0, validationSummary.Errors.Count);
    }

    /// <summary>
    /// The test current index does not match on a transaction should add error.
    /// </summary>
    [TestMethod]
    public void TestCurrentIndexDoesNotMatchOnATransactionShouldAddError()
    {
      this.bundle.Transactions[3].CurrentIndex = 4;
      var validationSummary = this.bundle.Validate();
      Assert.IsFalse(validationSummary.IsValid);
      Assert.AreEqual("Transaction 3 has an invalid current index. Expected: 3. Got 4.", validationSummary.Errors[0]);
    }

    /// <summary>
    /// The test empty bundle.
    /// </summary>
    [TestMethod]
    public void TestEmptyBundle()
    {
      var validationSummary = new Bundle().Validate();
      Assert.IsTrue(validationSummary.IsValid);
      Assert.AreEqual(0, validationSummary.Errors.Count);
    }

    /// <summary>
    /// The test last index does not match on a transaction should add error.
    /// </summary>
    [TestMethod]
    public void TestLastIndexDoesNotMatchOnATransactionShouldAddError()
    {
      this.bundle.Transactions[5].LastIndex = 4;
      var validationSummary = this.bundle.Validate();
      Assert.IsFalse(validationSummary.IsValid);
      Assert.AreEqual("Transaction 5 has an invalid last index. Expected: 7. Got 4.", validationSummary.Errors[0]);
    }

    /// <summary>
    /// The test missing signature fragment underflow.
    /// </summary>
    [TestMethod]
    public void TestMissingSignatureFragmentUnderflow()
    {
      this.bundle.Transactions[0].Value += this.bundle.Transactions[7].Value;
      this.bundle.Transactions.RemoveRange(this.bundle.Transactions.Count - 2, 2);

      foreach (var transaction in this.bundle.Transactions)
      {
        transaction.LastIndex -= 2;
      }

      var validationSummary = this.bundle.Validate();

      Assert.IsFalse(validationSummary.IsValid);
      Assert.AreEqual("Transaction 4 has invalid signature (using 2 fragments).", validationSummary.Errors[0]);
    }

    /// <summary>
    /// The test multiple errors in bundle.
    /// </summary>
    [TestMethod]
    public void TestMultipleErrorsInBundle()
    {
      this.bundle.Transactions.RemoveAt(4);
      var validationSummary = this.bundle.Validate();
      Assert.IsFalse(validationSummary.IsValid);
      Assert.AreEqual(11, validationSummary.Errors.Count);
    }

    /// <summary>
    /// The test one signature fragment is invalid.
    /// </summary>
    [TestMethod]
    public void TestOneSignatureFragmentIsInvalid()
    {
      this.bundle.Transactions[5].Fragment = new Fragment();

      var validationSummary = this.bundle.Validate();
      Assert.IsFalse(validationSummary.IsValid);
      Assert.AreEqual("Transaction 4 has invalid signature (using 3 fragments).", validationSummary.Errors[0]);
    }

    /// <summary>
    /// The test one transaction has a wrong value.
    /// </summary>
    [TestMethod]
    public void TestOneTransactionHasAWrongValue()
    {
      this.bundle.Transactions[5].Value = -1;
      this.bundle.Transactions.Last().Value += 1;

      var validationSummary = this.bundle.Validate();
      Assert.IsFalse(validationSummary.IsValid);
      Assert.AreEqual("Transaction 5 has invalid value. Expected: 0. Got -1.", validationSummary.Errors[0]);
    }

    /// <summary>
    /// The test signature fragment has wrong address.
    /// </summary>
    [TestMethod]
    public void TestSignatureFragmentHasWrongAddress()
    {
      this.bundle.Transactions[2].Address = new Address("QHEDFWZULBZFEOMNLRNIDQKDNNIELAOXOVMYEI9PGNFDPEEZCWVYLKZGSLCQNOFUSENIXRHWWTZFBXMPS");

      var validationSummary = this.bundle.Validate();
      Assert.IsFalse(validationSummary.IsValid);
      Assert.AreEqual("Transaction 2 has invalid signature (using 1 fragments).", validationSummary.Errors[0]);
    }

    #endregion
  }
}